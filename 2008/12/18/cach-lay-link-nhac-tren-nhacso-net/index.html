
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Cách lấy link nhạc trên nhacso.net - blog.hoatle.info</title>
  
  <meta name="author" content="hoatle">

  
  <meta name="description" content="Cách lấy link nhạc trên nhacso.net">
  

  

  

  <meta property="og:url" content="http://blog.hoatle.info/2008/12/18/cach-lay-link-nhac-tren-nhacso-net/" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Cách lấy link nhạc trên nhacso.net - blog.hoatle.info" />
  <meta property="og:description" content="Cách lấy link nhạc trên nhacso.net" />

  <meta property="og:image" content="http://blog.hoatle.info/images/default-cover.png" />







  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@hoatle" />
  <meta name="twitter:creator" content="@hoatle" />
  <meta name="twitter:title" content="Cách lấy link nhạc trên nhacso.net - blog.hoatle.info" />
  <meta name="twitter:description" content="Cách lấy link nhạc trên nhacso.net" />

  <meta name="twitter:image:src" content="http://blog.hoatle.info/images/default-cover.png" />

  <meta name="twitter:domain" content="http://blog.hoatle.info" />



  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="canonical" href="http://blog.hoatle.info/2008/12/18/cach-lay-link-nhac-tren-nhacso-net/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="blog.hoatle.info" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6303084-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">blog.hoatle.info</a></h1>
  
    <h2>just a value creator.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.hoatle.info" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/categories/en">English</a></li>
  <li><a href="/categories/vi">Tiếng Việt</a></li>
  <li><a href="/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article itemscope itemtype="http://schema.org/Article" class="hentry" role="article">
  
  <header>
    
      <h1 itemprop="name" class="entry-title">Cách Lấy Link Nhạc Trên nhacso.net</h1>
    
    
      <p class="meta">
        








  


<time itemprop="datePublished" content="2008-12-18T01:21:00+00:00" datetime="2008-12-18T01:21:00+00:00" pubdate data-updated="true">Dec 18<span>th</span>, 2008</time>
        
      </p>
    
  </header>


<div itemprop="articleBody" class="entry-content"><p>Có rất nhiều trang nhạc tương tự không cho download và đó lại càng là mục tiêu để mọi người tìm cách
down nhạc ở những trang này. Các file media ở NhacSo cũng không chất lượng. Ở đây tớ lấy môt trang
điển hình, còn nhiều trang khác cũng hầu như có kỹ thuật tương tự, chủ yếu là phải biết phân tích
cách ẩn đường dẫn tới file media hoặc xml. Hầu như bây giờ các trang dùng xml hoặc json để lấy dữ
liệu qua XHR (XML Http Request hay còn gọi là Ajax).</p>

<p>Các bước tiến hành:</p>

<!-- more -->


<p><strong>1. Phân tích cái Media Player trong phần HTML Code</strong></p>

<p>Có thể thấy trong phần code trên NhacSo có đoạn mã nhúng media:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;object</span> <span class="na">height=</span><span class="s">&quot;300&quot;</span> <span class="na">width=</span><span class="s">&quot;100%&quot;</span> <span class="na">viewastext=</span><span class="s">&quot;&quot;</span> <span class="na">type=</span><span class="s">&quot;application/x-oleobject&quot;</span>
</span><span class='line'><span class="na">standby=</span><span class="s">&quot;Loading Microsoft Windows Media Player components...&quot;</span>
</span><span class='line'><span class="na">codebase=</span><span class="s">&quot;http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=6,4,5,715&quot;</span>
</span><span class='line'><span class="na">classid=</span><span class="s">&quot;CLSID:22d6f312-b0f6-11d0-94ab-0080c74c7e95&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;param</span> <span class="na">value=</span><span class="s">&quot;/Music/nghe_album.aspx?id=100039571&quot;</span> <span class="na">name=</span><span class="s">&quot;FileName&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;param</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span> <span class="na">name=</span><span class="s">&quot;TransparentAtStart&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;param</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="na">name=</span><span class="s">&quot;AutoStart&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;param</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span> <span class="na">name=</span><span class="s">&quot;AnimationatStart&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;param</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span> <span class="na">name=</span><span class="s">&quot;ShowControls&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;param</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span> <span class="na">name=</span><span class="s">&quot;ShowDisplay&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;param</span> <span class="na">value=</span><span class="s">&quot;999&quot;</span> <span class="na">name=</span><span class="s">&quot;playCount&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;param</span> <span class="na">value=</span><span class="s">&quot;0&quot;</span> <span class="na">name=</span><span class="s">&quot;displaySize&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;param</span> <span class="na">value=</span><span class="s">&quot;100&quot;</span> <span class="na">name=</span><span class="s">&quot;Volume&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;embed</span> <span class="na">height=</span><span class="s">&quot;300&quot;</span> <span class="na">width=</span><span class="s">&quot;100%&quot;</span> <span class="na">displaysize=</span><span class="s">&quot;0&quot;</span> <span class="na">volume=</span><span class="s">&quot;100animationAtStart=0&quot;</span>
</span><span class='line'><span class="na">playcount=</span><span class="s">&quot;999&quot;</span> <span class="na">autostart=</span><span class="s">&quot;1&quot;</span> <span class="na">transparentatstart=</span><span class="s">&quot;0&quot;</span> <span class="na">name=</span><span class="s">&quot;MediaPlayer&quot;</span>
</span><span class='line'><span class="na">src=</span><span class="s">&quot;/Music/nghe_album.aspx?id=100039571&quot;</span>
</span><span class='line'><span class="na">pluginspage=</span><span class="s">&quot;http://www.microsoft.com/Windows/MediaPlayer/&quot;</span> <span class="na">type=</span><span class="s">&quot;application/x-mplayer2&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/object&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Đáng chú ý nhất chính là:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;param</span> <span class="na">value=</span><span class="s">&quot;/Music/nghe_album.aspx?id=100039571&quot;</span> <span class="na">name=</span><span class="s">&quot;FileName&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Hoặc trong đoạn embed cũng tương tự thế:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>src=&quot;/Music/nghe_album.aspx?id=100039571&quot;
</span></code></pre></td></tr></table></div></figure>


<p><strong>2. Thấy được cái link &ldquo;đáng ngờ&rdquo;, giờ thì thử open nó trên trình duyệt xem thế nào :)</strong></p>

<p>Ghép vào với tên miền thì được đường dẫn <a href="http://www.nhacso.net/Music/nghe_album.aspx?id=100039571.">http://www.nhacso.net/Music/nghe_album.aspx?id=100039571.</a>
Tớ dùng firebug trên Firefox để tiện theo dõi các hoạt động, request client-server.</p>

<p>Khi copy + paste địa chỉ mới này vào trình duyệt sẽ được redirect tới 1 trang khác, và dữ liệu trả
về là một dạng playlist (xml). Đây chính là dữ liệu chứa các thông tin về bài hát, tất nhiên là cả
link bài hát. Ví dụ dữ liệu trả về của địa chỉ trên sẽ là:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;ASX</span> <span class="na">Version=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;&lt;param</span> <span class="na">name=</span><span class="s">&quot;encoding&quot;</span> <span class="na">value=</span><span class="s">&quot;utf-8&quot;</span> <span class="nt">/&gt;&lt;TITLE&gt;</span> Tinh Trong Mat Biec Quoc Thai Nhom Cat
</span><span class='line'>
</span><span class='line'> Trang Tinh Trong Mat Biec <span class="nt">&lt;/TITLE&gt;&lt;ENTRY&gt;&lt;TITLE&gt;</span> Tinh Trong Mat Biec Quoc Thai Nhom Cat Trang Tinh Trong
</span><span class='line'>
</span><span class='line'> Mat Biec <span class="nt">&lt;/TITLE&gt;</span> <span class="nt">&lt;AUTHOR&gt;</span>Nhom Cat Trang<span class="nt">&lt;/AUTHOR&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;mms://210.245.126.171/Music/NhacTre/TinhTrongMatBiec_NhomCatTrang</span>
</span><span class='line'>
</span><span class='line'><span class="s">/wma32/TinhTrongMatBiec_TinhTrongMatBiec_NhomCatTrang_02.wma&quot;</span><span class="nt">/&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;http://210.245.126.171/Music</span>
</span><span class='line'>
</span><span class='line'><span class="s">/NhacTre/TinhTrongMatBiec_NhomCatTrang/wma32/TinhTrongMatBiec_TinhTrongMatBiec_NhomCatTrang_02.wma&quot;</span><span class="nt">/</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&gt;&lt;/ENTRY&gt;&lt;ENTRY&gt;&lt;TITLE&gt;</span> Con Duong Den Lop Le Quoc Thang Nhom Cat Trang Tinh Trong Mat Biec <span class="nt">&lt;/TITLE&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;AUTHOR&gt;</span>Nhom Cat Trang<span class="nt">&lt;/AUTHOR&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;mms://210.245.126.171/Music/NhacTre/TinhTrongMatBiec_NhomCatTrang</span>
</span><span class='line'>
</span><span class='line'><span class="s">/wma32/ConDuongDenLon_TinhTrongMatBiec_NhomCatTrang_03.wma&quot;</span><span class="nt">/&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;http://210.245.126.171/Music</span>
</span><span class='line'>
</span><span class='line'><span class="s">/NhacTre/TinhTrongMatBiec_NhomCatTrang/wma32/ConDuongDenLon_TinhTrongMatBiec_NhomCatTrang_03.wma&quot;</span><span class="nt">/&gt;&lt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">/ENTRY&gt;&lt;ENTRY&gt;&lt;TITLE&gt;</span> Them Nghe Ba Mang Quoc Thai Nhom Cat Trang Tinh Trong Mat Biec <span class="nt">&lt;/TITLE&gt;</span> <span class="nt">&lt;AUTHOR</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&gt;</span>Nhom Cat Trang<span class="nt">&lt;/AUTHOR&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;mms://210.245.126.171/Music/NhacTre/TinhTrongMatBiec_NhomCatTrang</span>
</span><span class='line'>
</span><span class='line'><span class="s">/wma32/ThemNgheBaMang_TinhTrongMatBiec_NhomCatTrang_04.wma&quot;</span><span class="nt">/&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;http://210.245.126.171/Music</span>
</span><span class='line'>
</span><span class='line'><span class="s">/NhacTre/TinhTrongMatBiec_NhomCatTrang/wma32/ThemNgheBaMang_TinhTrongMatBiec_NhomCatTrang_04.wma&quot;</span><span class="nt">/&gt;&lt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">/ENTRY&gt;&lt;ENTRY&gt;&lt;TITLE&gt;</span> Toi Va Ban Vu Dinh An Nhom Cat Trang Tinh Trong Mat Biec <span class="nt">&lt;/TITLE&gt;</span> <span class="nt">&lt;AUTHOR&gt;</span>Nhom
</span><span class='line'>
</span><span class='line'> Cat Trang<span class="nt">&lt;/AUTHOR&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;mms://210.245.126.171/Music/NhacTre/TinhTrongMatBiec_NhomCatTrang/wma32</span>
</span><span class='line'>
</span><span class='line'><span class="s">/ToiVaBan_TinhTrongMatBiec_NhomCatTrang_05.wma&quot;</span><span class="nt">/&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;http://210.245.126.171/Music/NhacTre/TinhTrongMatBiec_NhomCatTrang</span>
</span><span class='line'>
</span><span class='line'><span class="s">/wma32/ToiVaBan_TinhTrongMatBiec_NhomCatTrang_05.wma&quot;</span><span class="nt">/&gt;&lt;/ENTRY&gt;&lt;ENTRY&gt;&lt;TITLE&gt;</span> Em Di Trong Thu Roi Quoc
</span><span class='line'>
</span><span class='line'> Thai Nhom Cat Trang Tinh Trong Mat Biec <span class="nt">&lt;/TITLE&gt;</span> <span class="nt">&lt;AUTHOR&gt;</span>Nhom Cat Trang<span class="nt">&lt;/AUTHOR&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;mms://210</span>
</span><span class='line'>
</span><span class='line'><span class="s">.245.126.171/Music/NhacTre/TinhTrongMatBiec_NhomCatTrang/wma32/EmDiTrongThuRoi_TinhTrongMatBiec_NhomCatTrang_06</span>
</span><span class='line'>
</span><span class='line'><span class="s">.wma&quot;</span><span class="nt">/&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;http://210.245.126.171/Music/NhacTre/TinhTrongMatBiec_NhomCatTrang/wma32/EmDiTrongThuRoi_TinhTrongMatBiec_NhomCatTrang_06</span>
</span><span class='line'>
</span><span class='line'><span class="s">.wma&quot;</span><span class="nt">/&gt;&lt;/ENTRY&gt;&lt;ENTRY&gt;&lt;TITLE&gt;</span> Mai Truong Men Yeu Le Quoc Thang Nhom Cat Trang Tinh Trong Mat Biec <span class="nt">&lt;/TITLE</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&gt;</span> <span class="nt">&lt;AUTHOR&gt;</span>Nhom Cat Trang<span class="nt">&lt;/AUTHOR&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;mms://210.245.126.171/Music/NhacTre/TinhTrongMatBiec_NhomCatTrang</span>
</span><span class='line'>
</span><span class='line'><span class="s">/wma32/MaiTruongMenYeu_TinhTrongMatBiec_NhomCatTrang_07.wma&quot;</span><span class="nt">/&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;http://210.245.126.171/Music</span>
</span><span class='line'>
</span><span class='line'><span class="s">/NhacTre/TinhTrongMatBiec_NhomCatTrang/wma32/MaiTruongMenYeu_TinhTrongMatBiec_NhomCatTrang_07.wma&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/ENTRY&gt;&lt;ENTRY&gt;&lt;TITLE&gt;</span> Tuoi Hong Em Den Nguyen Hoa Nhom Cat Trang Tinh Trong Mat Biec <span class="nt">&lt;/TITLE&gt;</span> <span class="nt">&lt;AUTHOR</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&gt;</span>Nhom Cat Trang<span class="nt">&lt;/AUTHOR&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;mms://210.245.126.171/Music/NhacTre/TinhTrongMatBiec_NhomCatTrang</span>
</span><span class='line'>
</span><span class='line'><span class="s">/wma32/TuoiHongEmDen_TinhTrongMatBiec_NhomCatTrang_08.wma&quot;</span><span class="nt">/&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;http://210.245.126.171/Music/NhacTre</span>
</span><span class='line'>
</span><span class='line'><span class="s">/TinhTrongMatBiec_NhomCatTrang/wma32/TuoiHongEmDen_TinhTrongMatBiec_NhomCatTrang_08.wma&quot;</span><span class="nt">/&gt;&lt;/ENTRY&gt;&lt;ENTRY</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&gt;&lt;TITLE&gt;</span> Loi Nhan Nhu Quoc Thai Nhom Cat Trang Tinh Trong Mat Biec <span class="nt">&lt;/TITLE&gt;</span> <span class="nt">&lt;AUTHOR&gt;</span>Nhom Cat Trang<span class="nt">&lt;/AUTHOR</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;mms://210.245.126.171/Music/NhacTre/TinhTrongMatBiec_NhomCatTrang/wma32/LoiNhanNhu_TinhTrongMatBiec_NhomCatTrang_09</span>
</span><span class='line'>
</span><span class='line'><span class="s">.wma&quot;</span><span class="nt">/&gt;&lt;REF</span> <span class="na">HREF=</span><span class="s">&quot;http://210.245.126.171/Music/NhacTre/TinhTrongMatBiec_NhomCatTrang/wma32/LoiNhanNhu_TinhTrongMatBiec_NhomCatTrang_09</span>
</span><span class='line'>
</span><span class='line'><span class="s">.wma&quot;</span><span class="nt">/&gt;&lt;/ENTRY&gt;&lt;/ASX&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Từ đây có thể dùng XML Parser để thấy thông tin cần.</p>

<p><strong>3. Lấy tự động</strong></p>

<p>Tớ dùng PHP + cURL. Tất nhiên có thể dùng bất kỳ ngôn ngữ nào cũng được, miễn là có thể tạo request
http là được. Tớ viết 1 class Indexer có chức năng là thu thập thông tin bài hát và ghi vào cơ sở
dữ liệu. Đầu vào là các link site nhạc được hỗ trợ, đầu ra là một đối tượng thuộc class Song
(abstract class).</p>

<p>Chỉ cần có có link nhạc bất kì là được rồi. Đây là Indexer class:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="cm">/*</span>
</span><span class='line'><span class="cm"> * Indexer.class.php</span>
</span><span class='line'><span class="cm"> *</span>
</span><span class='line'><span class="cm"> * Indexer Class: Factory Design Pattern</span>
</span><span class='line'><span class="cm"> *</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Indexer</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">private</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// No constructer</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">factory</span><span class="p">(</span><span class="nv">$indexURL</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nv">$urlInfo</span> <span class="o">=</span> <span class="nb">parse_url</span><span class="p">(</span><span class="nv">$indexURL</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$host</span> <span class="o">=</span> <span class="nv">$urlInfo</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">];</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">strstr</span><span class="p">(</span><span class="nv">$host</span><span class="p">,</span> <span class="s1">&#39;www.&#39;</span><span class="p">)))</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$host</span> <span class="o">=</span> <span class="s1">&#39;www.&#39;</span> <span class="o">.</span> <span class="nv">$host</span><span class="p">;</span>
</span><span class='line'>            <span class="nv">$indexURL</span> <span class="o">=</span> <span class="nv">$urlInfo</span><span class="p">[</span><span class="s1">&#39;scheme&#39;</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39;://www.&#39;</span> <span class="o">.</span> <span class="nv">$urlInfo</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">]</span> <span class="o">.</span> <span class="nv">$urlInfo</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">];</span>
</span><span class='line'>            <span class="k">if</span> <span class="p">(</span><span class="nv">$urlInfo</span><span class="p">[</span><span class="s1">&#39;query&#39;</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>                <span class="nv">$indexURL</span> <span class="o">.=</span> <span class="s1">&#39;?&#39;</span> <span class="o">.</span> <span class="nv">$urlInfo</span><span class="p">[</span><span class="s1">&#39;query&#39;</span><span class="p">];</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="c1">//self::$indexURL = $indexURL;</span>
</span><span class='line'>        <span class="nv">$className</span> <span class="o">=</span> <span class="nx">self</span><span class="o">::</span><span class="na">_getSongClass</span><span class="p">(</span><span class="nv">$host</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$genre</span> <span class="o">=</span> <span class="nx">self</span><span class="o">::</span><span class="na">_getGenre</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$country</span> <span class="o">=</span> <span class="nx">self</span><span class="o">::</span><span class="na">_getCountry</span><span class="p">();</span>
</span><span class='line'>        <span class="k">return</span> <span class="k">new</span> <span class="nv">$className</span><span class="p">(</span><span class="nv">$indexURL</span><span class="p">,</span> <span class="nv">$genre</span><span class="p">,</span> <span class="nv">$country</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="c1">//http://www.nhaccuatui.com/nghe?M=fMAlI445u6</span>
</span><span class='line'>    <span class="k">private</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">_getSongClass</span><span class="p">(</span><span class="nv">$host</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nb">str_replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="nv">$host</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">private</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">_getGenre</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">//TODO: Need implementation</span>
</span><span class='line'>        <span class="k">return</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">private</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">_getCountry</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">//TODO: Need implementation</span>
</span><span class='line'>        <span class="k">return</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>Cách sử dụng:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$url</span> <span class="o">=</span> <span class="s1">&#39;http://www.nhacso.net/Music/Song/Nhac-Nhe/2007/06/05F62DF7/&#39;</span><span class="p">;</span>
</span><span class='line'><span class="c1">// $url is any link that I complete the site parser.</span>
</span><span class='line'><span class="nv">$objSong</span> <span class="o">=</span> <span class="nx">Indexer</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
</span><span class='line'><span class="c1">//Get info:</span>
</span><span class='line'><span class="nv">$objSong</span><span class="o">-&gt;</span><span class="na">sname</span> <span class="c1">// song name</span>
</span><span class='line'><span class="nv">$objSong</span><span class="o">-&gt;</span><span class="na">slink</span> <span class="c1">// song link</span>
</span><span class='line'><span class="nv">$objSong</span><span class="o">-&gt;...</span> <span class="c1">// many other attributes.</span>
</span></code></pre></td></tr></table></div></figure>


<p>Nói tạm đến đây đã&hellip;</p>
</div>


  <footer>
    
      <div class="revision">
    <hr/>
    <p><strong>Latest Change Log:</strong></p>
    <ul><li><strong>Tue Dec 3 19:53:24 2013</strong><br/>How do I have this blog created?
</li></ul><a href=https://github.com/hoatle/blog.hoatle.info/commits/HEAD/source/_posts/2008-12-18-cach-lay-link-nhac-tren-nhacso-net.markdown target=_blank>View all changes on Github</a>
    <hr/>
</div>

    
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name" class="fn">hoatle</span></span></span>

      








  


<time itemprop="datePublished" content="2008-12-18T01:21:00+00:00" datetime="2008-12-18T01:21:00+00:00" pubdate data-updated="true">Dec 18<span>th</span>, 2008</time>
      

<span class="categories">posted in
  
    <a class='category' href='/categories/vi/'>vi</a>
  
</span>


      


    </p>
    
      
        
            
            
        






        
    





<div class="cc-license">
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">
        <img alt="Creative Commons Attribution-ShareAlike 3.0 Unported License" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" />
    </a><br />
    This work is licensed under a
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
</div>

    
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://blog.hoatle.info/2008/12/18/cach-lay-link-nhac-tren-nhacso-net/" data-via="hoatle" data-counturl="http://blog.hoatle.info/2008/12/18/cach-lay-link-nhac-tren-nhacso-net/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-href="http://blog.hoatle.info/2008/12/18/cach-lay-link-nhac-tren-nhacso-net/" data-send="true" data-width="450"
         data-show-faces="false">
     </div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2008/12/17/bai-tap-tach-chuoi-php/" title="Previous Post: Bài tập tách chuỗi PHP">&laquo; Bài tập tách chuỗi PHP</a>
      
      
        <a class="basic-alignment right" href="/2008/12/19/thiet-ke-mot-trang-kiem-tra-thuat-ngu-don-gian/" title="Next Post: Thiết kế một trang kiểm tra thuật ngữ đơn giản">Thiết kế một trang kiểm tra thuật ngữ đơn giản &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/12/08/dieu-gi-lam-nen-he-thong-it-tot/">Điều Gì Làm Nên Hệ Thống IT Tốt?</a>
      </li>
    
      <li class="post">
        <a href="/2013/12/05/22-quy-tac-tu-pixar-de-tao-ra-nhung-cau-chuyen-phi-thuong/">22 Quy Tắc Từ Pixar để tạo Ra Những Câu Chuyện Phi Thường</a>
      </li>
    
      <li class="post">
        <a href="/2010/01/16/them-doi-so-vao-message-bundle-trong-opensocial/">Thêm đối Số Vào Message Bundle Trong OpenSocial</a>
      </li>
    
      <li class="post">
        <a href="/2010/01/16/dynamic-arguments-binding-with-opensocial-message-bundle/">Dynamic Arguments Binding With OpenSocial Message Bundle</a>
      </li>
    
      <li class="post">
        <a href="/2010/01/09/gan-nhieu-ham-xu-ly-su-kien-vao-mot-phan-tu-trong-javascript/">Gán Nhiều Hàm Xử Lý Sự Kiện Vào Một Phần Tử Trong JavaScript</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/hoatle?count=5&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/hoatle">See all bookmarks &raquo;</a></p>
</section>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - hoatle -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'hoatle-blog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.hoatle.info/2008/12/18/cach-lay-link-nhac-tren-nhacso-net/';
        var disqus_url = 'http://blog.hoatle.info/2008/12/18/cach-lay-link-nhac-tren-nhacso-net/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=625149054184531";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
